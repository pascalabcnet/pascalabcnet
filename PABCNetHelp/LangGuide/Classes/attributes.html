<html>

<head>
<object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
<param name="Keyword" value="Attribute">
<param name="Keyword" value="јтрибут">
</object>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title></title>
<link rel="StyleSheet" href="../../default.css">
</head>

<body>
<H1>јтрибуты</H1>
<p>¬ €зыке имеетс€ ограниченное число стандартных атрибутов, задаваемых 
ключевыми словами - например: атрибуты уровн€ доступа public, private и 
protected, атрибуты static, virtual и override дл€ методов. </p>
<p>ѕользовательские атрибуты (далее просто атрибуты) - специальные €зыковые 
конструкции, позвол€ющие помечать классы, методы, подпрограммы, параметры 
некоторым именем (возможно с параметрами).</p>
<p>Ќапример, дл€ механизма сериализации класс помечаетс€ атрибутом 
[Serializable], а пол€, которые не следует сериализовывать, атрибутом 
[NonSerialized]. ѕри Unit-тестировании тестовый метод помечаетс€ атрибутом 
[Test] или атрибутом [TestCase]. –аспознаютс€ атрибуты методом отражени€ 
(рефлексии).</p>
<p>јтрибут - это обычный класс, унаследованный от System.Atribute. Ќапример: </p>
<blockquote>
	<p><code><b>type </b>AuthorAttribute = <strong>class</strong>(System.Attribute)<br>&nbsp; 
	<strong>auto</strong> property Name: string;<br>&nbsp; <strong>constructor</strong> (n: string);<br>&nbsp; 
	<strong>begin</strong><br>&nbsp;&nbsp;&nbsp; name := n;<br>&nbsp; <strong>end</strong>;&nbsp; <strong><br>end</strong>;</code></p>
</blockquote>
<p>—ледует обратить внимание, что класс атрибута прин€то оканчивать на <code>
Attribute</code>.</p>
<p>ѕри пометке сущности атрибутом им€ атрибута заключаетс€ в квадратные скобки.  онструктор атрибута предоставл€ет 
также возможность использовать атрибуты с 
параметрами. Ќапример, можно пометить класс 
атрибутом <code>AuthorAttribute</code>. </p>
<blockquote>
	<p><code>[Author('Alex')]<b><br>type </b>My = <strong>class</strong><br>&nbsp; // ...<strong><br>
	end</strong>;</code></p>
</blockquote>
<p>—ледует обратить внимание, что окончание <code>Attribute</code> можно не 
указывать.</p>
<p>–аспознать, помечен ли данный класс атрибутом, можно, использу€ 
отражение: </p>
<blockquote>
	<p><code><strong>begin</strong> <br>&nbsp; <strong>var</strong> t := typeof(My);
	<br>&nbsp; <strong>var</strong> attrs := t.GetCustomAttributes(false); <br>&nbsp;
	<strong>foreach</strong> <strong>var</strong> attr <strong>in</strong> attrs 
	<strong>do</strong> <br>&nbsp;&nbsp;&nbsp; <strong>if</strong> attr <strong>is</strong> AuthorAttribute (<strong>var</strong> auth) 
	<strong>then</strong> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Print(auth.Name);
	<br><strong>end</strong>.</code></p>
</blockquote>
<p>—лед</p>
</body>

</html>