<html>

<head>
<object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
</object>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title></title>
<link rel="StyleSheet" href="../../default.css">
</head>

<body>
<H1>Классовые поля, методы, свойства и конструкторы</H1>
<p>В классе можно объявить так называемые <i>классовые</i> (<i>статические</i>) 
поля, свойства и методы. Они не принадлежат конкретному экземпляру класса, а связаны с 
классом. Для их вызова используется точечная нотация, причем, перед точкой 
используется не имя объекта, а имя класса. Чтобы поле или свойство или метод сделать 
классовым (статическим), перед его именем следует указать ключевое слово <code>
<b>class</b></code>. При описании статических свойств в секциях read и write 
можно указывать только статические поля или методы.</p>
<p>Например, определим для класса <span lang="en-us">Person </span>количество 
созданных объектов этого класса как статическое поле и организуем доступ к этому 
полю на чтение с помощью статической функции<span lang="en-us">. </span>После 
каждого вызова конструктора значение статического поля будет увеличиваться на 1:</p>
<p><code><b>type</b> <br>
&nbsp; Person = <b>class</b><br>
&nbsp; <b>private</b><br>
&nbsp;&nbsp;&nbsp; name: string;<br>
&nbsp;&nbsp;&nbsp; age: integer;<br>
&nbsp;&nbsp;&nbsp; <span lang="en-us"><b>class</b> cnt: integer := 0;<br></span>&nbsp; <b>public<br>&nbsp;&nbsp;&nbsp; <span lang="en-us">class 
property</span></b><span lang="en-us"> Coun: integer <b>read</b> cnt;</span><br>
&nbsp;&nbsp;&nbsp; <b>constructor</b> (n: string; a: integer);<br>
&nbsp;&nbsp;&nbsp; <b>begin<br>
</b><span lang="en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cnt += 1; </span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name := n;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; age := a;<br>
&nbsp;&nbsp;&nbsp; <b>end</b>;<br>
<span lang="en-us">&nbsp;&nbsp;&nbsp; <b>class function</b> Count: integer;<br>
&nbsp;&nbsp;&nbsp; <b>begin</b><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Result := cnt;<br>
&nbsp;&nbsp;&nbsp; <b>end</b>;</span><br>
&nbsp; <span lang="en-us"><b>end</b>;</span></code></p>
<p><code><span lang="en-us"><b>begin</b><br>
&nbsp; <b>var</b> p: Person := new Person('</span>Иванов<span lang="en-us">',20);<br>
&nbsp; <b>var</b> p1: Person := new Person('</span>Петров<span lang="en-us">',18);<br>
&nbsp; writeln(Person.Count); // </span>обращение к классовому методу
<span lang="en-us">Count<br>
<b>end</b>.</span></code></p>
<p>В отличие от классовых полей и методов, обычные поля и методы называются 
экземплярными. Из обычных методов можно обращаться к экземплярным и классовым 
полям, но из классовых методов можно обращаться только к классовым полям.</p>
<p>Аналогично можно определить также классовый (статический) конструктор, 
предназначенный для автоматической инициализации классовых полей. Классовый 
конструктор<span lang="ru"> описывается с ключевым 
словом </span><code><b>class</b></code><span lang="ru"> и гарантированно вызывается перед вызовом 
любого статического метода и&nbsp;созданием первого объекта этого класса.</span></p>
<p>Например, определим в классе <code>Person</code><span lang="en-us"> </span>
классовое поле - массив объектов типа <code>Person</code> - и инициализируем его 
в классовом конструкторе. Потом указанный массив можно использовать в реализации 
классовой функции <code>RandomPerson</code>, возвращающей случайный объект типа
<code>Person</code><span lang="en-us">:</span><span lang="ru"> </span></p>
<blockquote>
	<p><code><b>type</b> <br>
&nbsp; Person = <b>class</b><br>
&nbsp; <b>private</b><br>
&nbsp;&nbsp;&nbsp; <b>class</b> arr: <b>array</b> <b>of</b> Person;&nbsp; <br>
&nbsp;&nbsp;&nbsp; name: string;<br>
&nbsp;&nbsp;&nbsp; age: integer;<br>
&nbsp; <b>public</b><br>
&nbsp;&nbsp;&nbsp; <b>class</b> constructor; <br>
&nbsp;&nbsp;&nbsp; <b>begin</b><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetLength(arr,3);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arr[0] := <b>new</b> Person('Иванов',20);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arr[1] := <b>new</b> Person('Петрова',19);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arr[2] := <b>new</b> Person('Попов',35);<br>
&nbsp;&nbsp;&nbsp; <b>end</b>;<br>
	<span lang="en-us">&nbsp;&nbsp;&nbsp; //...</span><br>
&nbsp;&nbsp;&nbsp; <b>class</b> <b>function</b> RandomPerson: Person; <br>
&nbsp;&nbsp;&nbsp; <b>begin</b><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Result := arr[Random(3)];<br>
&nbsp;&nbsp;&nbsp; <b>end</b>;<br>
&nbsp; <b>end</b>;<br>
	<span lang="en-us"><b>const</b> cnt = 10;</span><b><br>
	begin<br>
	</b><span lang="en-us">&nbsp; <b>var</b> a := <b>new</b> Person[cnt];<br>
&nbsp; <b>for var</b> i:=0 </span><b>to</b><span lang="en-us"> a.Length-1 </span>
	<b>do</b><span lang="en-us"><br>
&nbsp;&nbsp;&nbsp; a[i] := Person.RandomPerson;<br>
	</span><b>end</b><span lang="en-us">.</span></code></p>
</blockquote>
</body>

</html>