<html>

<head>
<object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
<param name="Keyword" value="Анонимные классы">
</object>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title></title>
<link rel="StyleSheet" href="../../default.css">
</head>

<body>
<H1>Анонимные классы</H1>
<p>Иногда необходимо сгенерировать объект класса на лету, не описывая класс. У 
такого класса нет имени (он анонимный), но известен набор полей. </p>
<p>Объект анонимного класса создаётся следующим образом:</p>
<blockquote><code><b>var </b>p := new <strong>class</strong>(Name := 'Иванов', 
	Age := 20);<br>Println(p.Name,p.Age);</code></blockquote>
<p>У объекта p автоматически генерируются публичные поля Name и Age 
соответствующих типов.</p>
<p>Два объекта принадлежат к одному анонимному классу если они имеют одинаковый 
набор полей, и эти поля принадлежат к одинаковым типам. Например:</p>
<blockquote><code><b>var </b>p1 := new <strong>class</strong>(Name := 'Петров', 
	Age := 21);<br>p1 := p;</code></blockquote>
<p>Если поля безымянного класса инициализируются переменными, то имена полей 
можно не писать - они генерируются автоматически и их имена и типы совпадают с 
именами и типами переменных. Например:</p>
<blockquote><code><b>var </b>Name := 'Попова';<b><br>var </b>Age := 23;<b><br>
	var </b>p := new <strong>class</strong>(Name, Age);<br>
	Println(p.Name,p.Age);</code></blockquote>
<p>Поля безымянного класса можно также инициализировать переменной с составным 
именем, имеющим точечную нотацию. В этом случае в качестве имен полей берутся 
последние имена в точечной нотации. Например:</p>
<blockquote><code><strong>var</strong> d := new DateTime(2015,5,15);<br><strong>
	var</strong> p := new <strong>class</strong>(d.Day, d.Month, d.Year);<br>Println(p.Day, 
	p.Month, p.Year);<br>Println(p);</code></blockquote>
</body>

</html>